---
title: "regression_seine"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list=objects())
###############packages
library(dygraphs)
library(xts)
library(MASS)
library(caret)
library(tidyverse)


rmse<-function(eps)
{
	return(round(sqrt(mean(eps^2,na.rm=TRUE)),digits=0))
}

mape<-function(y,ychap)
{
	return(round(100*mean(abs(y-ychap)/abs(y)),digits=2))
}

```


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = dirname(rstudioapi::getActiveDocumentContext()$path))
knitr::opts_knit$set(root.dir = "../Data/Extraction_Hydro/Seine")
```

Deux tâches en gros: 
1. prédiction individuelle d'une seulement station, basé sur les données de dix ans.
2. modèle global de tous les stations sur la Seine, ou même sur tous les fleuves.

1. prédiction individuelle d'une seulement station

	
Prenons la station H1700010: La Seine à Pont-sur-Seine
covariables: les dépits d'eau en amont et les météo, avant certain temps.

paramètres météo:
"'''Parameter(s):\n",
    "T2M             MERRA-2 Temperature at 2 Meters (C) \n",
    "T2MDEW          MERRA-2 Dew/Frost Point at 2 Meters (C)\n",
    "T2MWET          MERRA-2 Wet Bulb Temperature at 2 Meters (C) \n",
    "QV2M            MERRA-2 Specific Humidity at 2 Meters (g/kg) \n",
    "RH2M            MERRA-2 Relative Humidity at 2 Meters (%) \n",
    "PRECTOTCORR     MERRA-2 Precipitation Corrected (mm/hour) '''\n"
    
    
```{r}
tableau_stations <- read.delim("../Data/Seine/Stations_2019.csv",encoding = "UTF-8", sep=";", header = TRUE)


```

1.1 Méthode de Fourier

```{r}
data_files <- list.files("../Data/Extraction_Hydro/Seine")  # Identify file names
pont_list <- data_files[grepl("H1700010", data_files)]
pont_list
pont <- lapply(paste0("../Data/Extraction_Hydro/Seine/",pont_list), read.csv2)
pont <- rbindlist(pont)
pont <- as_tibble(pont)
names(pont) <- c("date","debit","validite")
```


```{r}
attach(pont)
plot(Load, type='l')
```




